<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interactivo</title>
    <style>
        /* ============== ESTILOS GENERALES ============== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* ============== CONTENEDOR PRINCIPAL ============== */
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* ============== PANTALLA DE INICIO ============== */
        .inicio-screen {
            text-align: center;
        }

        .inicio-screen h1 {
            color: #667eea;
            font-size: 42px;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(102, 126, 234, 0.1);
        }

        .inicio-screen .subtitle {
            color: #666;
            font-size: 16px;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        /* Selector de categor√≠a */
        .categoria-selector {
            margin-bottom: 30px;
        }

        .categoria-selector label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .categoria-selector select {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .categoria-selector select:hover {
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .categoria-selector select:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.4);
        }

        /* Bot√≥n Comenzar */
        .btn-comenzar {
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-comenzar:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-comenzar:active {
            transform: translateY(0);
        }

        /* ============== PANTALLA DE PREGUNTAS ============== */
        .quiz-screen {
            display: none;
        }

        /* Contador de pregunta */
        .pregunta-contador {
            color: #667eea;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Barra de progreso */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* Texto de pregunta */
        .pregunta-texto {
            color: #333;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        /* Contenedor de opciones */
        .opciones-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        /* Botones de opciones */
        .opcion-btn {
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            background: #f5f5f5;
            color: #333;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            text-transform: capitalize;
        }

        .opcion-btn:hover {
            background: #efefef;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .opcion-btn:disabled {
            cursor: not-allowed;
        }

        /* Estados de respuesta */
        .opcion-btn.correcta {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }

        .opcion-btn.incorrecta {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }

        /* Feedback visual */
        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .feedback.correcta {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .feedback.incorrecta {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .feedback.visible {
            display: block;
        }

        /* Animaci√≥n de entrada */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ============== PANTALLA DE RESULTADOS ============== */
        .resultados-screen {
            display: none;
            text-align: center;
        }

        .resultados-screen h2 {
            color: #667eea;
            font-size: 36px;
            margin-bottom: 20px;
        }

        /* C√≠rculo de puntuaci√≥n */
        .puntuacion-circulo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .puntuacion-circulo .numero {
            font-size: 48px;
            font-weight: 700;
        }

        .puntuacion-circulo .total {
            font-size: 16px;
            margin-top: 5px;
        }

        /* Porcentaje */
        .porcentaje {
            font-size: 28px;
            font-weight: 700;
            color: #667eea;
            margin: 20px 0;
        }

        /* Mensaje de desempe√±o */
        .mensaje-desempenio {
            font-size: 20px;
            font-weight: 600;
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
        }

        .mensaje-desempenio.excelente {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .mensaje-desempenio.bien {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffc107;
        }

        .mensaje-desempenio.mejorar {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        /* Botones de acci√≥n */
        .botones-resultados {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn-accion {
            padding: 12px 30px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-reintentar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-reintentar:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-home {
            background: #e0e0e0;
            color: #333;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .btn-home:hover {
            background: #d0d0d0;
            transform: translateY(-2px);
        }

        /* ============== PANTALLA OCULTA ============== */
        .hidden {
            display: none !important;
        }

        /* ============== RESPONSIVE ============== */
        @media (max-width: 600px) {
            .container {
                padding: 25px;
                min-height: auto;
            }

            .inicio-screen h1 {
                font-size: 28px;
            }

            .pregunta-texto {
                font-size: 18px;
            }

            .opcion-btn {
                padding: 14px;
                font-size: 14px;
            }

            .puntuacion-circulo {
                width: 120px;
                height: 120px;
            }

            .puntuacion-circulo .numero {
                font-size: 36px;
            }

            .porcentaje {
                font-size: 24px;
            }

            .botones-resultados {
                flex-direction: column;
            }

            .btn-accion {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ============== PANTALLA DE INICIO ============== -->
        <div class="inicio-screen" id="inicioScreen">
            <h1>üìö Quiz Interactivo</h1>
            <p class="subtitle">
                Pon a prueba tus conocimientos sobre JavaScript b√°sico.<br>
                Responde todas las preguntas y descubre tu puntuaci√≥n.
            </p>

            <!-- Selector de categor√≠a -->
            <div class="categoria-selector">
                <label for="categoriaSelect">Selecciona una categor√≠a:</label>
                <select id="categoriaSelect">
                    <option value="javascript">JavaScript B√°sico</option>
                    <option value="html">HTML5</option>
                    <option value="css">CSS3</option>
                </select>
            </div>

            <button class="btn-comenzar" id="btnComenzar">Comenzar Quiz</button>
        </div>

        <!-- ============== PANTALLA DE PREGUNTAS ============== -->
        <div class="quiz-screen" id="quizScreen">
            <!-- Contador y barra de progreso -->
            <div class="pregunta-contador" id="contadorPregunta">Pregunta 1 de 5</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>

            <!-- Pregunta -->
            <div class="pregunta-texto" id="preguntaTexto">
                ¬øCu√°l es tu pregunta?
            </div>

            <!-- Opciones -->
            <div class="opciones-container" id="opcionesContainer">
                <!-- Se llenar√°n din√°micamente -->
            </div>

            <!-- Feedback -->
            <div class="feedback" id="feedback">
                <!-- Se actualizar√° din√°micamente -->
            </div>
        </div>

        <!-- ============== PANTALLA DE RESULTADOS ============== -->
        <div class="resultados-screen" id="resultadosScreen">
            <h2>¬°Quiz Completado!</h2>

            <!-- C√≠rculo de puntuaci√≥n -->
            <div class="puntuacion-circulo">
                <div class="numero" id="puntuacionNumero">0</div>
                <div class="total" id="puntuacionTotal">de 0</div>
            </div>

            <!-- Porcentaje -->
            <div class="porcentaje" id="porcentajeTexto">0%</div>

            <!-- Mensaje de desempe√±o -->
            <div class="mensaje-desempenio" id="mensajeDesempenio">
                Mensaje de desempe√±o
            </div>

            <!-- Botones -->
            <div class="botones-resultados">
                <button class="btn-accion btn-reintentar" id="btnReintentar">
                    üîÑ Reintentar
                </button>
                <button class="btn-accion btn-home" id="btnHome">
                    üè† Ir al Inicio
                </button>
            </div>
        </div>
    </div>

    <script>
        /* ============== BASE DE DATOS DE PREGUNTAS ============== */

        /**
         * Base de datos de preguntas organizadas por categor√≠a
         * Estructura: {pregunta, opciones[], correcta (√≠ndice 0-3)}
         */
        const preguntasPorCategoria = {
            javascript: [
                {
                    pregunta: "¬øCu√°l es la forma correcta de declarar una variable en JavaScript?",
                    opciones: ["var nombre = 'Juan';", "nombre = 'Juan';", "variable nombre = 'Juan';", "declare nombre = 'Juan';"],
                    correcta: 0,
                    explicacion: "La forma correcta es usar 'var', 'let' o 'const' para declarar una variable."
                },
                {
                    pregunta: "¬øQu√© retorna typeof null en JavaScript?",
                    opciones: ["null", "object", "undefined", "NullType"],
                    correcta: 1,
                    explicacion: "JavaScript considera null como un 'object' debido a un error hist√≥rico en el lenguaje."
                },
                {
                    pregunta: "¬øCu√°l es la diferencia entre '==' y '===' en JavaScript?",
                    opciones: [
                        "No hay diferencia",
                        "'==' compara valores, '===' compara valor y tipo",
                        "'===' compara solo valores",
                        "'==' es para strings y '===' para n√∫meros"
                    ],
                    correcta: 1,
                    explicacion: "'==' realiza conversi√≥n de tipo (coerci√≥n), mientras que '===' es una comparaci√≥n estricta."
                },
                {
                    pregunta: "¬øQu√© m√©todo se usa para convertir un string a n√∫mero?",
                    opciones: ["String()", "Number()", "parseInt()", "toNumber()"],
                    correcta: 1,
                    explicacion: "Number() es el m√©todo est√°ndar, aunque parseInt() tambi√©n funciona para enteros."
                },
                {
                    pregunta: "¬øCu√°l es el resultado de 0.1 + 0.2 === 0.3 en JavaScript?",
                    opciones: ["true", "false", "undefined", "error"],
                    correcta: 1,
                    explicacion: "False porque JavaScript usa punto flotante, causando errores de precisi√≥n. Resultado es 0.30000000000000004"
                }
            ],
            html: [
                {
                    pregunta: "¬øCu√°l es la etiqueta correcta para un p√°rrafo en HTML5?",
                    opciones: ["<paragraph>", "<p>", "<para>", "<text>"],
                    correcta: 1,
                    explicacion: "La etiqueta <p> se usa para definir p√°rrafos en HTML."
                },
                {
                    pregunta: "¬øPara qu√© sirve la etiqueta <semantic>?",
                    opciones: ["Define sem√°ntica", "No existe, es ficticia", "Organiza contenido", "Valida HTML"],
                    correcta: 1,
                    explicacion: "La etiqueta <semantic> no existe. HTML5 usa etiquetas como <header>, <nav>, <article>, etc."
                },
                {
                    pregunta: "¬øCu√°l atributo se usa para vincular una hoja de estilos CSS?",
                    opciones: ["<script>", "<link rel='stylesheet'>", "<style>", "<css>"],
                    correcta: 1,
                    explicacion: "Se usa <link rel='stylesheet' href='archivo.css'> para vincular archivos CSS externos."
                },
                {
                    pregunta: "¬øQu√© hace el atributo 'alt' en una imagen?",
                    opciones: [
                        "Aumenta el tama√±o de la imagen",
                        "Proporciona texto alternativo si la imagen no carga",
                        "Cambia el color de la imagen",
                        "Acelera la carga de la p√°gina"
                    ],
                    correcta: 1,
                    explicacion: "El atributo 'alt' es importante para accesibilidad y SEO."
                },
                {
                    pregunta: "¬øCu√°l es la estructura b√°sica correcta de un documento HTML5?",
                    opciones: [
                        "<html><body></body></html>",
                        "<!DOCTYPE html><html><head></head><body></body></html>",
                        "<document><content></content></document>",
                        "<page><section></section></page>"
                    ],
                    correcta: 1,
                    explicacion: "HTML5 requiere DOCTYPE, html, head (con meta charset) y body."
                }
            ],
            css: [
                {
                    pregunta: "¬øCu√°l es la propiedad CSS para cambiar el color del texto?",
                    opciones: ["text-color", "color", "font-color", "foreground"],
                    correcta: 1,
                    explicacion: "La propiedad 'color' se usa para cambiar el color del texto en CSS."
                },
                {
                    pregunta: "¬øQu√© hace la propiedad 'display: flex'?",
                    opciones: [
                        "Muestra y oculta elementos",
                        "Activa flexbox para layout flexible",
                        "Aumenta el tama√±o del elemento",
                        "Aplica un efecto de animaci√≥n"
                    ],
                    correcta: 1,
                    explicacion: "Flexbox es un modelo de layout moderno que facilita la alineaci√≥n y distribuci√≥n de elementos."
                },
                {
                    pregunta: "¬øCu√°l es la diferencia entre 'margin' y 'padding'?",
                    opciones: [
                        "No hay diferencia",
                        "margin es externo, padding es interno",
                        "padding es externo, margin es interno",
                        "Son lo mismo pero con nombres diferentes"
                    ],
                    correcta: 1,
                    explicacion: "Margin es el espacio FUERA del elemento, padding es el espacio DENTRO."
                },
                {
                    pregunta: "¬øCu√°l es la especificidad correcta de estos selectores?",
                    opciones: [
                        "element = class = id",
                        "id > class > element",
                        "class > id > element",
                        "element > class > id"
                    ],
                    correcta: 1,
                    explicacion: "La especificidad: ID (100) > CLASS (10) > ELEMENT (1). ID tiene mayor prioridad."
                },
                {
                    pregunta: "¬øCu√°l es la propiedad para hacer un elemento redondeado?",
                    opciones: ["round-corners", "border-radius", "corner-radius", "radius"],
                    correcta: 1,
                    explicacion: "La propiedad 'border-radius' crea bordes redondeados en CSS3."
                }
            ]
        };

        /* ============== VARIABLES GLOBALES ============== */
        let categoriaActual = 'javascript';
        let preguntasActuales = [];
        let preguntaIndex = 0;
        let puntuacion = 0;
        let respuestaSeleccionada = false;

        /* ============== FUNCIONES DE UTILIDAD ============== */

        /**
         * Obtiene las preguntas seg√∫n la categor√≠a seleccionada
         * @param {string} categoria - Categor√≠a seleccionada
         */
        function cargarPreguntas(categoria) {
            categoriaActual = categoria;
            preguntasActuales = [...preguntasPorCategoria[categoria]];
            preguntaIndex = 0;
            puntuacion = 0;
        }

        /**
         * Calcula el porcentaje de aciertos
         * @returns {number} Porcentaje redondeado
         */
        function calcularPorcentaje() {
            return Math.round((puntuacion / preguntasActuales.length) * 100);
        }

        /**
         * Obtiene el mensaje seg√∫n el desempe√±o
         * @returns {object} Objeto con mensaje y clase CSS
         */
        function obtenerMensajeDesempenio() {
            const porcentaje = calcularPorcentaje();

            if (porcentaje >= 80) {
                return {
                    texto: "üéâ ¬°Excelente! Dominas este tema perfectamente.",
                    clase: "excelente"
                };
            } else if (porcentaje >= 60) {
                return {
                    texto: "üëç ¬°Bien hecho! Tienes una buena comprensi√≥n del tema.",
                    clase: "bien"
                };
            } else {
                return {
                    texto: "üìö Puedes mejorar. Revisa los conceptos y vuelve a intentar.",
                    clase: "mejorar"
                };
            }
        }

        /* ============== FUNCIONES DE PANTALLA ============== */

        /**
         * Muestra la pantalla de inicio
         */
        function mostrarInicio() {
            document.getElementById('inicioScreen').style.display = 'block';
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultadosScreen').style.display = 'none';
        }

        /**
         * Muestra la pantalla de quiz
         */
        function mostrarQuiz() {
            document.getElementById('inicioScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            document.getElementById('resultadosScreen').style.display = 'none';

            mostrarPregunta();
        }

        /**
         * Muestra la pantalla de resultados
         */
        function mostrarResultados() {
            document.getElementById('inicioScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultadosScreen').style.display = 'block';

            // Actualizar informaci√≥n de resultados
            document.getElementById('puntuacionNumero').textContent = puntuacion;
            document.getElementById('puntuacionTotal').textContent = `de ${preguntasActuales.length}`;

            const porcentaje = calcularPorcentaje();
            document.getElementById('porcentajeTexto').textContent = `${porcentaje}%`;

            const mensaje = obtenerMensajeDesempenio();
            const elementoMensaje = document.getElementById('mensajeDesempenio');
            elementoMensaje.textContent = mensaje.texto;
            elementoMensaje.className = `mensaje-desempenio ${mensaje.clase}`;
        }

        /**
         * Muestra la pregunta actual en pantalla
         * - Actualiza el n√∫mero de pregunta
         * - Actualiza la barra de progreso
         * - Muestra el texto de la pregunta
         * - Muestra los botones de opciones
         */
        function mostrarPregunta() {
            const pregunta = preguntasActuales[preguntaIndex];
            respuestaSeleccionada = false;

            // Actualizar contador
            document.getElementById('contadorPregunta').textContent = 
                `Pregunta ${preguntaIndex + 1} de ${preguntasActuales.length}`;

            // Actualizar barra de progreso
            const porcentajeProgreso = ((preguntaIndex + 1) / preguntasActuales.length) * 100;
            document.getElementById('progressFill').style.width = porcentajeProgreso + '%';

            // Mostrar pregunta
            document.getElementById('preguntaTexto').textContent = pregunta.pregunta;

            // Limpiar feedback
            const feedbackElement = document.getElementById('feedback');
            feedbackElement.classList.remove('visible', 'correcta', 'incorrecta');

            // Mostrar opciones
            const contenedorOpciones = document.getElementById('opcionesContainer');
            contenedorOpciones.innerHTML = '';

            pregunta.opciones.forEach((opcion, index) => {
                const boton = document.createElement('button');
                boton.className = 'opcion-btn';
                boton.textContent = opcion;
                boton.dataset.index = index;
                boton.addEventListener('click', () => verificarRespuesta(index, boton));
                contenedorOpciones.appendChild(boton);
            });
        }

        /**
         * Verifica si la respuesta seleccionada es correcta
         * - Valida la respuesta
         * - Muestra feedback visual
         * - Habilita el siguiente
         * - Muestra la siguiente pregunta con delay
         * 
         * @param {number} indexSeleccionado - √çndice de la opci√≥n seleccionada
         * @param {element} bot√≥n - Elemento del bot√≥n clickeado
         */
        function verificarRespuesta(indexSeleccionado, boton) {
            if (respuestaSeleccionada) return; // Evitar m√∫ltiples respuestas

            respuestaSeleccionada = true;
            const pregunta = preguntasActuales[preguntaIndex];
            const esCorrecta = indexSeleccionado === pregunta.correcta;

            // Desactivar todos los botones
            document.querySelectorAll('.opcion-btn').forEach(btn => {
                btn.disabled = true;
            });

            // Mostrar respuesta correcta
            const botonesOpciones = document.querySelectorAll('.opcion-btn');
            botonesOpciones[pregunta.correcta].classList.add('correcta');

            // Si es incorrecta, mostrar la seleccionada como incorrecta
            if (!esCorrecta) {
                boton.classList.add('incorrecta');
            } else {
                puntuacion++;
            }

            // Mostrar feedback
            const feedbackElement = document.getElementById('feedback');
            feedbackElement.textContent = esCorrecta ? 
                `‚úÖ ¬°Correcto! ${pregunta.explicacion}` : 
                `‚ùå Incorrecto. ${pregunta.explicacion}`;
            feedbackElement.className = `feedback visible ${esCorrecta ? 'correcta' : 'incorrecta'}`;

            // Siguiente pregunta con delay
            setTimeout(() => {
                preguntaIndex++;

                if (preguntaIndex < preguntasActuales.length) {
                    mostrarPregunta();
                } else {
                    mostrarResultados();
                }
            }, 2500); // Esperar 2.5 segundos antes de siguiente pregunta
        }

        /* ============== EVENT LISTENERS ============== */

        // Bot√≥n Comenzar
        document.getElementById('btnComenzar').addEventListener('click', () => {
            const categoriaSelect = document.getElementById('categoriaSelect').value;
            cargarPreguntas(categoriaSelect);
            mostrarQuiz();
        });

        // Bot√≥n Reintentar
        document.getElementById('btnReintentar').addEventListener('click', () => {
            cargarPreguntas(categoriaActual);
            mostrarQuiz();
        });

        // Bot√≥n Ir al Inicio
        document.getElementById('btnHome').addEventListener('click', () => {
            mostrarInicio();
        });

        /* ============== INICIALIZACI√ìN ============== */
        mostrarInicio();
        console.log('‚úì Quiz inicializado correctamente');
    </script>
</body>
</html>
